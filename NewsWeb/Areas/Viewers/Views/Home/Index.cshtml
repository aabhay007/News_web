@model IEnumerable<NewsWeb.Models.News>

<style>
    .news-image {
        width: 100%;
        height: 300px; /* Adjust the height as needed */
        object-fit: cover;
        border-radius: 15px;
    }

    .my-flex {
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
        margin-top: 20px; /* Added margin for better spacing */
    }

    .snip1208 {
        width: calc(50% - 20px); /* Adjust the width of each news item */
        margin-bottom: 20px;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 6px 15px rgba(7, 7, 9, 0.5);
    }

        .snip1208 img {
            transition: transform 0.3s ease;
        }

        .snip1208:hover img {
            transform: scale(1.05); /* Increase the size of the image on hover */
        }

        .snip1208 figcaption {
            padding: 20px;
            background-color: #fff;
            border-top: 1px solid #e0e0e0;
        }

        .snip1208 h5 {
            margin: 0;
            font-weight: 600;
            color: #333;
        }

        .snip1208 button {
            border: none;
            background-color: #1abc9c;
            color: #fff;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

            .snip1208 button:hover {
                background-color: #16a085; /* Darker shade on hover */
            }

    .floating-section {
        position: fixed;
        top: 0;
        right: -300px; /* Initially hide the section off-screen */
        width: 300px;
        height: 100%;
        background-color: #fff;
        z-index: 9999;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        transition: right 0.3s ease;
    }

        .floating-section.full {
            width: 100%;
            right: 0;
        }

    .content {
        padding: 20px;
    }

    .toggle-btn {
        position: fixed;
        top: 50%;
        right: 20px;
        transform: translateY(-50%);
        z-index: 10000;
        background-color: #1abc9c;
        color: #fff;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
    }

    .close-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        color: #888;
    }

    .news-info {
        position: absolute;
        top: 10px;
        left: 10px;
        background-color: rgba(255, 255, 255, 0.8);
        padding: 5px 10px;
        border-radius: 5px;
    }

        .news-info .date {
            font-size: 14px;
            font-weight: bold;
            color: #333;
        }

        .news-info .category {
            font-size: 12px;
            color: #777;
        }

    .floating-section.show {
        right: 0;
    }

    .floating-section .content {
        padding: 20px;
        height: calc(100% - 40px); /* Adjust the height as needed */
        overflow-y: auto;
    }

        .floating-section .content::-webkit-scrollbar {
            width: 8px;
        }

        .floating-section .content::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        .floating-section .content::-webkit-scrollbar-thumb {
            background: #888;
        }

            .floating-section .content::-webkit-scrollbar-thumb:hover {
                background: #555;
            }

    #popup {
        cursor: pointer;
    }

</style>
<!-- Start WOWSlider.com HEAD section --> <!-- add to the <head> of your page -->
<link rel="stylesheet" type="text/css" href="~/css/engine1/style.css" />
<script type="text/javascript" src="~/js/engine1/jquery.js"></script>
<!-- End WOWSlider.com HEAD section -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

<!-- Start WOWSlider.com BODY section --> <!-- add to the <body> of your page -->
<div id="wowslider-container1">
    <div class="ws_images">
        <ul>
            <li><img src="~/images/data1/images/Farmers Protest.png" alt="Farmers Protest" title="Farmers Protest" id="wows1_0" /></li>
            <li><img src="~/images/data1/images/Joe Bidens Statement.png" alt="Joe Bidens Statement" title="Joe Bidens Statement" id="wows1_1" /></li>
            <li><img src="~/images/data1/images/NASA and SpaceX.png" alt="NASA and SpaceX" title="NASA and SpaceX" id="wows1_2" /></li>
            <li><img src="~/images/data1/images/New Apple Vision Pro.png" alt="New Apple Vision Pro" title="New Apple Vision Pro" id="wows1_3" /></li>
            <li><a href="http://wowslider.net"><img src="~/images/data1/images/Noise New Series.png" alt="image carousel" title="Noise New Series" id="wows1_4" /></a></li>
            <li><img src="~/images/data1/images/Rugby is crazy!.png" alt="Rugby is crazy" title="Rugby is crazy" id="wows1_5" /></li>
        </ul>
    </div>
    <div class="ws_bullets">
        <div>
            <a href="#" title="Farmers Protest"><span><img src="~/images/data1/images/Farmers Protest.png" alt="Screenshot 2024-02-10 225044" />1</span></a>
            <a href="#" title="Joe Bidens Statement"><span><img src="~/images/data1/images/Joe Bidens Statement.png" alt="Screenshot 2024-02-10 225828" />2</span></a>
            <a href="#" title="NASA and SpaceX"><span><img src="~/images/data1/images/NASA and SpaceX.png" alt="Screenshot 2024-02-10 232430" />3</span></a>
            <a href="#" title="New Apple Vision Pro"><span><img src="~/images/data1/images/New Apple Vision Pro.png" alt="Screenshot 2024-02-10 234953" />4</span></a>
            <a href="#" title="Noise New Series"><span><img src="~/images/data1/images/Noise New Series.png" alt="Screenshot 2024-02-10 235233" />5</span></a>
            <a href="#" title="Rugby is crazy"><span><img src="~/images/data1/images/Rugby is crazy!.png" alt="Screenshot 2024-02-11 000346" />6</span></a>
        </div>
    </div><div class="ws_script" style="position:absolute;left:-99%"><a href="http://wowslider.net">javascript carousel</a> by WOWSlider.com v9.0</div>
    <div class="ws_shadow"></div>
</div>

<!-- End WOWSlider.com BODY section -->
<h1 class="text-center font-weight-bold typing-effect"></h1>
<hr />
<div id="popup" class="floating-section animate__animated animate__fadeInDown">
    <button class="close-btn" onclick="this.parentElement.classList.remove('show')">X</button>
    <div class="content">
        <h3>Welcome to State Live News!</h3>
        <h2 style="font-weight:600;">Breaking News!!</h2>
        <div class="my-flex">
            @foreach (var news in Model)
            {
                <figure class="snip1208" onclick="location.href='@Url.Action("Details", "Home", new { id = news.Id })'">
                    <div class="news-info">
                        <span class="date">@news.Date.ToString("MMM dd, yyyy")</span>
                        <span class="category">#@news.Category.Name</span>
                    </div>
                    <img src="@news.ImageUrl" class="news-image" />
                    <figcaption>
                        <h5>@news.HeadLine</h5>
                        <button>Full News</button>
                    </figcaption>
                </figure>
            }
        </div>
    </div>
</div>


<form asp-controller="Home" asp-action="Index" method="get">
    <div class="text-right">
        <span class="btn btn-group" style="align-items: center;gap:5px;">
            <label for="categoryId">Category:</label>
            <select id="categoryId" name="categoryId" class="form-control" style="border-radius:20px;">
                <option value="">All</option>
                @foreach (var category in ViewBag.Categories)
                {
                    <option value="@category.Value">@category.Text</option>
                }
            </select>
            <label for="placeId">Place:</label>
            <select id="placeId" name="placeId" class="form-control" style="border-radius:20px;">
                <option value="">All</option>
                @foreach (var place in ViewBag.Places)
                {
                    <option value="@place.Value">@place.Text</option>
                }
            </select>
            <input class="form-control" type="text" name="searchText" placeholder="Search" style="border-radius: 20px;" />
            <input class="btn" style="background-color: #1abc9c;color:white;border-radius: 20px;" type="submit" value="Search" />
        </span>
    </div>
    @if (Model.Any())
    {
        <div class="my-flex">
            @foreach (var news in Model)
            {
                <figure class="snip1208">
                    <div class="news-info">
                        <span class="date">@news.Date.ToString("MMM dd, yyyy")</span>
                        <span class="category">#@news.Category.Name</span>
                    </div>
                    <img src="@news.ImageUrl" class="news-image" />
                    <figcaption>
                        <h5>@news.HeadLine</h5>
                        <button asp-action="Details" type="submit" asp-route-id="@news.Id">Full News</button>
                    </figcaption>
                </figure>
            }
        </div>
    }
    else
    {
        <h2 class="text-danger">No News Found</h2>
    }
</form>
@section Scripts{
 
    <script type="text/javascript" src="~/js/engine1/wowslider.js"></script>
    <script type="text/javascript" src="~/js/engine1/script.js"></script>
    <script>
        // Function to close the popup when clicking outside of it
        window.addEventListener('click', function (event) {
            var popup = document.getElementById('popup');
            if (!event.target.closest('.floating-section') && popup.classList.contains('show')) {
                popup.classList.remove('show');
            }
        });

        // Function to handle clicking on the popup content
        function handleClickOnPopup() {
            var popup = document.getElementById('popup');
            if (popup.classList.contains('show')) {
                popup.classList.remove('show');
            }
        }

        // Function to simulate typing effect
        function typeWriter() {
            // Reset index and clear the text
            index = 0;
            document.querySelector('.typing-effect').innerHTML = '';

            // Define the text to be typed
            var text = "Today's Latest News";

            // Function to type one character at a time
            function typeCharacter() {
                if (index < text.length) {
                    document.querySelector('.typing-effect').innerHTML += text.charAt(index);
                    index++;
                } else {
                    clearInterval(typingInterval); // Stop typing when text is fully typed
                }
            }

            // Call the typeCharacter function every 100 milliseconds
            var typingInterval = setInterval(typeCharacter, 100);
        }

        // Call the typeWriter function when the page loads
        window.onload = function () {
            typeWriter();

            // Repeat the typing effect every 5 seconds
            setInterval(typeWriter, 10000);

            // Show popup on page load
            var popup = document.getElementById('popup');
            popup.classList.add('show');

            // Hide popup after 5 seconds
            setTimeout(function () {
                popup.classList.remove('show');
            }, 9000);
        };
    </script>
}

@*@section Scripts{
    <script>

        // Function to simulate typing effect
        function typeWriter() {
            // Reset index and clear the text
            index = 0;
            document.querySelector('.typing-effect').innerHTML = '';

            // Define the text to be typed
            var text = "Today's Latest News";

            // Function to type one character at a time
            function typeCharacter() {
                if (index < text.length) {
                    document.querySelector('.typing-effect').innerHTML += text.charAt(index);
                    index++;
                } else {
                    clearInterval(typingInterval); // Stop typing when text is fully typed
                }
            }

            // Call the typeCharacter function every 100 milliseconds
            var typingInterval = setInterval(typeCharacter, 100);
        }

        // Call the typeWriter function when the page loads
        window.onload = function () {
            typeWriter();

            // Repeat the typing effect every 5 seconds
            setInterval(typeWriter, 10000);

              var popup = document.getElementById('popup');
            popup.classList.add('show');

            // Hide popup after 5 seconds
            setTimeout(function() {
                popup.classList.remove('show');
            }, 9000);
        };


    </script>
}
*@